<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Universitas Contoh</title>
  <link rel="stylesheet" href="css.css"/>
</head>
<body> 
<main>

  <!-- HEADER -->  
  <header>
    <div class="header-container">
      <img src="logo.png" alt="Logo" class="logo">
      <h1>UNIVERSITAS CONTOH</h1>
      <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
    </div>
    <nav id="nav-menu">
      <a href="index.html">Beranda</a>
      <a href="pendidikan.html">Pendidikan</a>
      <a href="penelitian.html">Penelitian</a>
      <a href="pengabdian.html">Pengabdian</a>
      <a href="fakultas.html">Fakultas</a>
      <a href="kontak.html">Kontak</a>
    </nav>
  </header>

  <!-- MAIN CONTENT -->
    <section class="berita">
   <div class="col berita-item">
    <h2>Program Studi Teknik Sipil</h2>
    <img src="teknik.jpg" alt="Program Studi Teknik Sipil" loading="lazy">

    <p>
      Program studi Teknik Sipil dirancang untuk mencetak lulusan yang mampu membangun infrastruktur berkualitas, seperti jembatan, gedung, dan jalan raya. Mahasiswa dibekali dengan ilmu konstruksi, struktur, hidrolika, dan manajemen proyek.
    </p>
    <p>
      Dengan dukungan laboratorium modern dan dosen berpengalaman, Teknik Sipil menjadi salah satu pilihan favorit di Universitas Contoh.
    </p>
    
    </div>
</section>
    
  <!-- FORM KOMENTAR -->
 <section class="komentar container">
 <h2>Komentar</h2>
 <form id="form-komentar">
 <label for="nama">Nama:</label><br>
 <input type="text" id="nama" required><br><br>
 <label for="pesan">Komentar:</label><br>
 <textarea id="pesan" rows="4" required></textarea><br><br>
  <button type="submit">Kirim Komentar</button>
    </form>
    <div id="daftar-komentar"></div>
  </section>

</main>
  <!-- Firebase SDK -->


  <!-- FOOTER -->
  <footer>
    <p>&copy; Dibuat La Arfan 2025 Universitas Contoh</p>
  </footer>
  
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getDatabase, ref, push, onValue, remove } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";
  const firebaseConfig = {
    apiKey: "AIzaSyDwVlHJN83AshbVkqBK1aQqBurqtk98qoI",
    authDomain: "komentar-berita-6d9af.firebaseapp.com",
    databaseURL: "https://komentar-berita-6d9af-default-rtdb.firebaseio.com",
    projectId: "komentar-berita-6d9af",
    storageBucket: "komentar-berita-6d9af.appspot.com",
    messagingSenderId: "1004795777058",
    appId: "1:1004795777058:web:9b69eece1b7578b4017a7b"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const kodeAdmin = "12345"; // ðŸ›‘ Ganti ini dengan kode rahasia admin kamu

  const form = document.getElementById('form-komentar');
  const daftarKomentar = document.getElementById('daftar-komentar');

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const nama = document.getElementById('nama').value;
    const pesan = document.getElementById('pesan').value;

    push(ref(db, 'komentar'), { nama, pesan });
    form.reset();
  });

  // Tampilkan komentar
  onValue(ref(db, 'komentar'), (snapshot) => {
    daftarKomentar.innerHTML = '';
    snapshot.forEach((childSnapshot) => {
      const id = childSnapshot.key;
      const data = childSnapshot.val();
      const komentarDiv = document.createElement('div');
      komentarDiv.innerHTML = `
        <p><strong>${data.nama}</strong>: ${data.pesan}</p>
        <button onclick="hapusKomentar('${id}')">Hapus</button>
        <hr>
      `;
      daftarKomentar.appendChild(komentarDiv);
    });
  });

  // Fungsi hapus hanya jika masukkan kode admin benar
  window.hapusKomentar = function(id) {
    const input = prompt("Masukkan kode admin untuk hapus komentar:");
    if (input === kodeAdmin) {
      remove(ref(db, 'komentar/' + id));
    } else {
      alert("Kode salah. Anda bukan admin.");
    }
  }
</script>

  <!-- SCRIPT MENU TOGGLE -->
  <script>
    function toggleMenu() {
      const nav = document.getElementById("nav-menu");
      nav.classList.toggle("active");
    }
  </script>
</body>
</html>
